# –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–∞–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –§–∞–π–ª—ã —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º

#### ColorsLight.xaml (–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `Resources/Styles/ColorsLight.xaml`

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞:**
- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `#F5F5F5` (—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π)
- –§–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫: `#FFFFFF` (–±–µ–ª—ã–π)
- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç: `#000000` (—á–µ—Ä–Ω—ã–π)
- –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç: `#666666` (—Å–µ—Ä—ã–π)
- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –±—Ä–µ–Ω–¥–∞: `#512BD4` (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)

#### ColorsDark.xaml (–¢–µ–º–Ω–∞—è —Ç–µ–º–∞)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `Resources/Styles/ColorsDark.xaml`

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞:**
- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `#121212` (–ø–æ—á—Ç–∏ —á–µ—Ä–Ω—ã–π)
- –§–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫: `#1E1E1E` (—Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π)
- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç: `#FFFFFF` (–±–µ–ª—ã–π)
- –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç: `#B0B0B0` (—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π)
- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –±—Ä–µ–Ω–¥–∞: `#8B6FE8` (—Å–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º

–ö–æ–¥ –≤ `App.xaml.cs` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É.

```csharp
private void LoadTheme()
{
    var currentTheme = Application.Current?.RequestedTheme ?? AppTheme.Light;
    
    var colorDictionary = currentTheme == AppTheme.Dark 
        ? new ResourceDictionary { Source = new Uri("Resources/Styles/ColorsDark.xaml", UriKind.Relative) }
        : new ResourceDictionary { Source = new Uri("Resources/Styles/ColorsLight.xaml", UriKind.Relative) };
    
    // –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π
    // ...
}
```

### 3. –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–æ–¥–ø–∏—Å–∫–µ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ:

```csharp
RequestedThemeChanged += OnRequestedThemeChanged;
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–∏—Ç —Ç–µ–º—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ XAML

–í—Å–µ —Ü–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `DynamicResource`, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
```xml
<Label Text="–ó–∞–≥–æ–ª–æ–≤–æ–∫" 
       TextColor="{DynamicResource PrimaryTextColor}" />

<Frame BackgroundColor="{DynamicResource CardBackgroundColor}">
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
</Frame>
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå
```xml
<Label Text="–ó–∞–≥–æ–ª–æ–≤–æ–∫" 
       TextColor="Black" />

<Frame BackgroundColor="White">
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
</Frame>
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞ Android
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–∏—Å–ø–ª–µ–π** ‚Üí **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞**
2. –í–∫–ª—é—á–∏—Ç–µ/–≤—ã–∫–ª—é—á–∏—Ç–µ —Ç–µ–º–Ω—É—é —Ç–µ–º—É
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è —Å –Ω–æ–≤–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π

### –í—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ
–ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É –≤ –∫–æ–¥–µ:
```csharp
Application.Current.UserAppTheme = AppTheme.Dark;  // –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
Application.Current.UserAppTheme = AppTheme.Light; // –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
Application.Current.UserAppTheme = AppTheme.Unspecified; // –°–ª–µ–¥–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–µ
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞
- `PrimaryColor` / `Primary` - –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –±—Ä–µ–Ω–¥–∞
- `SecondaryColor` / `Secondary` - –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç
- `TertiaryColor` / `Tertiary` - –¢—Ä–µ—Ç–∏—á–Ω—ã–π —Ü–≤–µ—Ç
- `AccentColor` - –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç

### –§–æ–Ω–æ–≤—ã–µ —Ü–≤–µ—Ç–∞
- `PageBackgroundColor` - –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü
- `CardBackgroundColor` - –§–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫/–±–ª–æ–∫–æ–≤

### –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ü–≤–µ—Ç–∞
- `PrimaryTextColor` - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
- `SecondaryTextColor` - –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç (–æ–ø–∏—Å–∞–Ω–∏—è, –ø–æ–¥–ø–∏—Å–∏)

### –°—Ç–∞—Ç—É—Å–Ω—ã–µ —Ü–≤–µ—Ç–∞
- `SuccessColor` - –£—Å–ø–µ—Ö (–∑–µ–ª–µ–Ω—ã–π)
- `WarningColor` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–∂–µ–ª—Ç—ã–π)
- `ErrorColor` - –û—à–∏–±–∫–∞ (–∫—Ä–∞—Å–Ω—ã–π)

### –û—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ
- `Gray100` - `Gray900` - –†–∞–∑–ª–∏—á–Ω—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ (–∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∏–∑–∞–π–Ω—É

### –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –¢–µ–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞—Ç—å –≥–ª—É–±–∏–Ω—É

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–µ–º–Ω–æ–º —Ñ–æ–Ω–µ
- –ò–∑–±–µ–≥–∞–π—Ç–µ —á–∏—Å—Ç–æ —á–µ—Ä–Ω–æ–≥–æ (#000000) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `#121212`
- –ù–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á—å—Ç–µ —è—Ä–∫–æ—Å—Ç—å –∞–∫—Ü–µ–Ω—Ç–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –£–º–µ–Ω—å—à–∏—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ç–µ–Ω–µ–π

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:
- ‚úÖ Android 10 –∏ –≤—ã—à–µ (–ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã)
- ‚úÖ Android 9 –∏ –Ω–∏–∂–µ (–º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–æ–¥)
- ‚úÖ iOS 13 –∏ –≤—ã—à–µ
- ‚úÖ Windows 10/11

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: –¢–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Android 10+
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–µ–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥**:

1. **üåì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–µ)** - —Ç–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ Android
2. **‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É
3. **üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É

–í—ã–±—Ä–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```csharp
// –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã
var settingsService = serviceProvider.GetRequiredService<SettingsService>();
var savedTheme = settingsService.GetThemePreference(); // "Auto", "Light" –∏–ª–∏ "Dark"

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã
settingsService.SaveThemePreference("Dark");

// –û—á–∏—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É —Ä–µ–∂–∏–º—É)
settingsService.ClearThemePreference();
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [x] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) ‚úÖ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–º—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–º—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

